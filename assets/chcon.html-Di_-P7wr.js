import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as n,e as s}from"./app-D_HUMAmc.js";const t={},c=s(`<h1 id="chcon" tabindex="-1"><a class="header-anchor" href="#chcon"><span>chcon</span></a></h1><p>修改对象（文件）的安全上下文</p><h2 id="补充说明" tabindex="-1"><a class="header-anchor" href="#补充说明"><span>补充说明</span></a></h2><p><strong>chcon命令</strong> 是修改对象（文件）的安全上下文，比如：用户、角色、类型、安全级别。也就是将每个文件的安全环境变更至指定环境。使用<code>--reference</code>选项时，把指定文件的安全环境设置为与参考文件相同。chcon命令位于<code>/usr/bin/chcon</code>。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>chcon <span class="token punctuation">[</span>选项<span class="token punctuation">]</span><span class="token punctuation">..</span>. 环境 文件<span class="token punctuation">..</span>.
chcon <span class="token punctuation">[</span>选项<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>-u 用户<span class="token punctuation">]</span> <span class="token punctuation">[</span>-r 角色<span class="token punctuation">]</span> <span class="token punctuation">[</span>-l 范围<span class="token punctuation">]</span> <span class="token punctuation">[</span>-t 类型<span class="token punctuation">]</span> 文件<span class="token punctuation">..</span>.
chcon <span class="token punctuation">[</span>选项<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token parameter variable">--reference</span><span class="token operator">=</span>参考文件 文件<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="选项" tabindex="-1"><a class="header-anchor" href="#选项"><span>选项</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>-h, --no-dereference：影响符号连接而非引用的文件。
    <span class="token parameter variable">--reference</span><span class="token operator">=</span>参考文件：使用指定参考文件的安全环境，而非指定值。
-R, --recursive：递归处理所有的文件及子目录。
-v, --verbose：为处理的所有文件显示诊断信息。
-u, <span class="token parameter variable">--user</span><span class="token operator">=</span>用户：设置指定用户的目标安全环境。
-r, <span class="token parameter variable">--role</span><span class="token operator">=</span>角色：设置指定角色的目标安全环境。
-t, <span class="token parameter variable">--type</span><span class="token operator">=</span>类型：设置指定类型的目标安全环境。
-l, <span class="token parameter variable">--range</span><span class="token operator">=</span>范围：设置指定范围的目标安全环境。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>以下选项是在指定了<code>-R</code>选项时被用于设置如何穿越目录结构体系。如果您指定了多于一个选项，那么只有最后一个会生效。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>-H：如果命令行参数是一个通到目录的符号链接，则遍历符号链接。
-L：遍历每一个遇到的通到目录的符号链接。
-P：不遍历任何符号链接（默认）。
--help：显示此帮助信息并退出。
--version：显示版本信息并退出。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="实例" tabindex="-1"><a class="header-anchor" href="#实例"><span>实例</span></a></h3><p>如果你想把这个ftp共享给匿名用户的话，需要开启以下：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>chcon <span class="token parameter variable">-R</span> <span class="token parameter variable">-t</span> public_content_t /var/ftp
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>如果你想让你设置的FTP目录可以上传文件的话，SELINUX需要设置：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>chcon <span class="token parameter variable">-t</span> public_content_rw_t /var/ftp/incoming
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>允许用户HHTP访问其家目录，该设定限仅于用户的家目录主页：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>setsebool <span class="token parameter variable">-P</span> httpd_enable_homedirs <span class="token number">1</span>
chcon <span class="token parameter variable">-R</span> <span class="token parameter variable">-t</span> httpd_sys_content_t ~user/public_html
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>如果你希望将samba目录共享给其他用户，你需要设置：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>chcon <span class="token parameter variable">-t</span> samba_share_t /directory
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>共享rsync目录时：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>chcon <span class="token parameter variable">-t</span> public_content_t /directories
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div>`,21),i=[c];function l(r,o){return e(),n("div",null,i)}const u=a(t,[["render",l],["__file","chcon.html.vue"]]),h=JSON.parse('{"path":"/command/linux/chcon.html","title":"chcon","lang":"zh-CN","frontmatter":{"description":"chcon 修改对象（文件）的安全上下文 补充说明 chcon命令 是修改对象（文件）的安全上下文，比如：用户、角色、类型、安全级别。也就是将每个文件的安全环境变更至指定环境。使用--reference选项时，把指定文件的安全环境设置为与参考文件相同。chcon命令位于/usr/bin/chcon。 语法 选项 以下选项是在指定了-R选项时被用于设置如...","head":[["meta",{"property":"og:url","content":"https://baymaxcoding.github.io/command/linux/chcon.html"}],["meta",{"property":"og:site_name","content":"BaymaxCoding"}],["meta",{"property":"og:title","content":"chcon"}],["meta",{"property":"og:description","content":"chcon 修改对象（文件）的安全上下文 补充说明 chcon命令 是修改对象（文件）的安全上下文，比如：用户、角色、类型、安全级别。也就是将每个文件的安全环境变更至指定环境。使用--reference选项时，把指定文件的安全环境设置为与参考文件相同。chcon命令位于/usr/bin/chcon。 语法 选项 以下选项是在指定了-R选项时被用于设置如..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T04:24:50.000Z"}],["meta",{"property":"article:author","content":"BaymaxCoding"}],["meta",{"property":"article:modified_time","content":"2024-04-12T04:24:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"chcon\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-12T04:24:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BaymaxCoding\\",\\"url\\":\\"https://baymaxcoding.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"git":{"createdTime":1712895890000,"updatedTime":1712895890000,"contributors":[{"name":"BaymaxCoding","email":"BRemail2324996822@163.com","commits":1}]},"readingTime":{"minutes":1.81,"words":544},"filePathRelative":"command/linux/chcon.md","localizedDate":"2024年4月12日","autoDesc":true}');export{u as comp,h as data};
