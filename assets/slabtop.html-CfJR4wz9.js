import{_ as n}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as s,c as a,e}from"./app-D_HUMAmc.js";const p={},l=e(`<h1 id="slabtop" tabindex="-1"><a class="header-anchor" href="#slabtop"><span>slabtop</span></a></h1><p>实时显示内核slab内存缓存信息</p><h2 id="补充说明" tabindex="-1"><a class="header-anchor" href="#补充说明"><span>补充说明</span></a></h2><p><strong>slabtop命令</strong> 以实时的方式显示内核“slab”缓冲区的细节信息。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>slabtop<span class="token punctuation">(</span>选项<span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h3 id="选项" tabindex="-1"><a class="header-anchor" href="#选项"><span>选项</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token parameter variable">--delay</span><span class="token operator">=</span>n, <span class="token parameter variable">-d</span> n：每n秒更新一次显示的信息，默认是每3秒；
<span class="token parameter variable">--sort</span><span class="token operator">=</span>S, <span class="token parameter variable">-s</span> S：指定排序标准进行排序（排序标准，参照下面或者man手册）；
--once, -o：显示一次后退出；
--version, -V：显示版本；
--help：显示帮助信息。
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>排序标准：</p><ul><li>a: sort by number of active objects</li><li>b: sort by objects per slab</li><li>c: sort by cache size</li><li>l: sort by number of slabs</li><li>v：sort by number of active slabs</li><li>n: sort by name</li><li>o: sort by number of objects</li><li>p: sort by pages per slab</li><li>s: sort by object size</li><li>u: sort by cache utilization</li></ul><h3 id="知识扩展" tabindex="-1"><a class="header-anchor" href="#知识扩展"><span>知识扩展</span></a></h3><p>内核的模块在分配资源的时候，为了提高效率和资源的利用率，都是透过slab来分配的。通过slab的信息，再配合源码能粗粗了解系统的运行情况，比如说什么资源有没有不正常的多，或者什么资源有没有泄漏。linux系统透过/proc/slabinfo来向用户暴露slab的使用情况。</p><p>Linux 所使用的 slab 分配器的基础是 Jeff Bonwick 为 SunOS 操作系统首次引入的一种算法。Jeff 的分配器是围绕对象缓存进行的。在内核中，会为有限的对象集（例如文件描述符和其他常见结构）分配大量内存。Jeff 发现对内核中普通对象进行初始化所需的时间超过了对其进行分配和释放所需的时间。因此他的结论是不应该将内存释放回一个全局的内存池，而是将内存保持为针对特定目而初始化的状态。Linux slab 分配器使用了这种思想和其他一些思想来构建一个在空间和时间上都具有高效性的内存分配器。</p><p>保存着监视系统中所有活动的 slab 缓存的信息的文件为/proc/slabinfo。</p><h3 id="实例" tabindex="-1"><a class="header-anchor" href="#实例"><span>实例</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>slabtop

 Active / Total Objects <span class="token punctuation">(</span>% used<span class="token punctuation">)</span>    <span class="token builtin class-name">:</span> <span class="token number">897519</span> / <span class="token number">1245930</span> <span class="token punctuation">(</span><span class="token number">72.0</span>%<span class="token punctuation">)</span>
 Active / Total Slabs <span class="token punctuation">(</span>% used<span class="token punctuation">)</span>      <span class="token builtin class-name">:</span> <span class="token number">38605</span> / <span class="token number">38605</span> <span class="token punctuation">(</span><span class="token number">100.0</span>%<span class="token punctuation">)</span>
 Active / Total Caches <span class="token punctuation">(</span>% used<span class="token punctuation">)</span>     <span class="token builtin class-name">:</span> <span class="token number">94</span> / <span class="token number">145</span> <span class="token punctuation">(</span><span class="token number">64.8</span>%<span class="token punctuation">)</span>
 Active / Total Size <span class="token punctuation">(</span>% used<span class="token punctuation">)</span>       <span class="token builtin class-name">:</span> <span class="token number">129558</span>.22K / <span class="token number">153432</span>.58K <span class="token punctuation">(</span><span class="token number">84.4</span>%<span class="token punctuation">)</span>
 Minimum / Average / Maximum Object <span class="token builtin class-name">:</span> <span class="token number">0</span>.01K / <span class="token number">0</span>.12K / <span class="token number">128</span>.00K

  OBJS ACTIVE  USE OBJ SIZE  SLABS OBJ/SLAB CACHE SIZE NAME                   
<span class="token number">440136</span> <span class="token number">171471</span>  <span class="token number">38</span>%    <span class="token number">0</span>.05K   <span class="token number">6113</span>       <span class="token number">72</span>     24452K buffer_head
<span class="token number">190086</span> <span class="token number">148576</span>  <span class="token number">78</span>%    <span class="token number">0</span>.05K   <span class="token number">2437</span>       <span class="token number">78</span>      9748K selinux_inode_security
<span class="token number">151840</span> <span class="token number">146366</span>  <span class="token number">96</span>%    <span class="token number">0</span>.48K  <span class="token number">18980</span>        <span class="token number">8</span>     75920K ext3_inode_cache
<span class="token number">144333</span> <span class="token number">144143</span>  <span class="token number">99</span>%    <span class="token number">0</span>.02K    <span class="token number">711</span>      <span class="token number">203</span>      2844K avtab_node
<span class="token number">130529</span> <span class="token number">128488</span>  <span class="token number">98</span>%    <span class="token number">0</span>.13K   <span class="token number">4501</span>       <span class="token number">29</span>     18004K dentry_cache
 <span class="token number">99214</span>  <span class="token number">99071</span>  <span class="token number">99</span>%    <span class="token number">0</span>.03K    <span class="token number">878</span>      <span class="token number">113</span>      3512K size-32
 <span class="token number">43834</span>  <span class="token number">28475</span>  <span class="token number">64</span>%    <span class="token number">0</span>.27K   <span class="token number">3131</span>       <span class="token number">14</span>     12524K radix_tree_node
 <span class="token number">17818</span>   <span class="token number">9450</span>  <span class="token number">53</span>%    <span class="token number">0</span>.06K    <span class="token number">302</span>       <span class="token number">59</span>      1208K size-64
  <span class="token number">4602</span>   <span class="token number">4562</span>  <span class="token number">99</span>%    <span class="token number">0</span>.05K     <span class="token number">59</span>       <span class="token number">78</span>       236K sysfs_dir_cache
  <span class="token number">3220</span>   <span class="token number">2855</span>  <span class="token number">88</span>%    <span class="token number">0</span>.08K     <span class="token number">70</span>       <span class="token number">46</span>       280K vm_area_struct
  <span class="token number">2460</span>   <span class="token number">2114</span>  <span class="token number">85</span>%    <span class="token number">0</span>.12K     <span class="token number">82</span>       <span class="token number">30</span>       328K size-128
  <span class="token number">1564</span>   <span class="token number">1461</span>  <span class="token number">93</span>%    <span class="token number">0</span>.04K     <span class="token number">17</span>       <span class="token number">92</span>        68K Acpi-Operand
  <span class="token number">1540</span>   <span class="token number">1540</span> <span class="token number">100</span>%    <span class="token number">0</span>.33K    <span class="token number">140</span>       <span class="token number">11</span>       560K inode_cache
  <span class="token number">1524</span>    <span class="token number">466</span>  <span class="token number">30</span>%    <span class="token number">0</span>.01K      <span class="token number">6</span>      <span class="token number">254</span>        24K anon_vma
  <span class="token number">1440</span>    <span class="token number">515</span>  <span class="token number">35</span>%    <span class="token number">0</span>.05K     <span class="token number">20</span>       <span class="token number">72</span>        80K avc_node
  <span class="token number">1440</span>   <span class="token number">1154</span>  <span class="token number">80</span>%    <span class="token number">0</span>.19K     <span class="token number">72</span>       <span class="token number">20</span>       288K filp
  <span class="token number">1170</span>   <span class="token number">1023</span>  <span class="token number">87</span>%    <span class="token number">0</span>.05K     <span class="token number">15</span>       <span class="token number">78</span>        60K ext3_xattr
   <span class="token number">845</span>    <span class="token number">724</span>  <span class="token number">85</span>%    <span class="token number">0</span>.02K      <span class="token number">5</span>      <span class="token number">169</span>        20K Acpi-Namespace
   <span class="token number">638</span>    <span class="token number">315</span>  <span class="token number">49</span>%    <span class="token number">0</span>.35K     <span class="token number">58</span>       <span class="token number">11</span>       232K proc_inode_cache
   <span class="token number">450</span>    <span class="token number">434</span>  <span class="token number">96</span>%    <span class="token number">0</span>.25K     <span class="token number">30</span>       <span class="token number">15</span>       120K size-256
   <span class="token number">424</span>    <span class="token number">386</span>  <span class="token number">91</span>%    <span class="token number">0</span>.50K     <span class="token number">53</span>        <span class="token number">8</span>       212K size-512
   <span class="token number">312</span>    <span class="token number">107</span>  <span class="token number">34</span>%    <span class="token number">0</span>.05K      <span class="token number">4</span>       <span class="token number">78</span>        16K delayacct_cache
   <span class="token number">306</span>    <span class="token number">284</span>  <span class="token number">92</span>%    <span class="token number">0</span>.43K     <span class="token number">34</span>        <span class="token number">9</span>       136K shmem_inode_cache
   <span class="token number">303</span>    <span class="token number">108</span>  <span class="token number">35</span>%    <span class="token number">0</span>.04K      <span class="token number">3</span>      <span class="token number">101</span>        12K pid
   <span class="token number">300</span>    <span class="token number">261</span>  <span class="token number">87</span>%    <span class="token number">0</span>.19K     <span class="token number">15</span>       <span class="token number">20</span>        60K skbuff_head_cache
   <span class="token number">300</span>    <span class="token number">300</span> <span class="token number">100</span>%    <span class="token number">0</span>.12K     <span class="token number">10</span>       <span class="token number">30</span>        40K bio
   <span class="token number">260</span>    <span class="token number">260</span> <span class="token number">100</span>%   <span class="token number">32</span>.00K    <span class="token number">260</span>        <span class="token number">1</span>      8320K size-32768
   <span class="token number">254</span>      <span class="token number">6</span>   <span class="token number">2</span>%    <span class="token number">0</span>.01K      <span class="token number">1</span>      <span class="token number">254</span>         4K revoke_table
   <span class="token number">236</span>     <span class="token number">55</span>  <span class="token number">23</span>%    <span class="token number">0</span>.06K      <span class="token number">4</span>       <span class="token number">59</span>        16K fs_cache
   <span class="token number">216</span>    <span class="token number">203</span>  <span class="token number">93</span>%    <span class="token number">1</span>.00K     <span class="token number">54</span>        <span class="token number">4</span>       216K size-1024
   <span class="token number">214</span>    <span class="token number">214</span> <span class="token number">100</span>%    <span class="token number">2</span>.00K    <span class="token number">107</span>        <span class="token number">2</span>       428K size-2048
   <span class="token number">203</span>     <span class="token number">83</span>  <span class="token number">40</span>%    <span class="token number">0</span>.02K      <span class="token number">1</span>      <span class="token number">203</span>         4K biovec-1
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,16),t=[l];function c(o,r){return s(),a("div",null,t)}const i=n(p,[["render",c],["__file","slabtop.html.vue"]]),m=JSON.parse('{"path":"/command/linux/slabtop.html","title":"slabtop","lang":"zh-CN","frontmatter":{"description":"slabtop 实时显示内核slab内存缓存信息 补充说明 slabtop命令 以实时的方式显示内核“slab”缓冲区的细节信息。 语法 选项 排序标准： a: sort by number of active objects b: sort by objects per slab c: sort by cache size l: sort by nu...","head":[["meta",{"property":"og:url","content":"https://baymaxcoding.github.io/command/linux/slabtop.html"}],["meta",{"property":"og:site_name","content":"BaymaxCoding"}],["meta",{"property":"og:title","content":"slabtop"}],["meta",{"property":"og:description","content":"slabtop 实时显示内核slab内存缓存信息 补充说明 slabtop命令 以实时的方式显示内核“slab”缓冲区的细节信息。 语法 选项 排序标准： a: sort by number of active objects b: sort by objects per slab c: sort by cache size l: sort by nu..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T04:24:50.000Z"}],["meta",{"property":"article:author","content":"BaymaxCoding"}],["meta",{"property":"article:modified_time","content":"2024-04-12T04:24:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"slabtop\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-12T04:24:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BaymaxCoding\\",\\"url\\":\\"https://baymaxcoding.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"知识扩展","slug":"知识扩展","link":"#知识扩展","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"git":{"createdTime":1712895890000,"updatedTime":1712895890000,"contributors":[{"name":"BaymaxCoding","email":"BRemail2324996822@163.com","commits":1}]},"readingTime":{"minutes":2.8,"words":841},"filePathRelative":"command/linux/slabtop.md","localizedDate":"2024年4月12日","autoDesc":true}');export{i as comp,m as data};
