import{_ as s}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as n,c as a,b as e}from"./app-CHACLx4z.js";const p={},l=e(`<h1 id="pidstat" tabindex="-1"><a class="header-anchor" href="#pidstat"><span>pidstat</span></a></h1><p>监控进程的系统资源占用情况</p><h2 id="说明" tabindex="-1"><a class="header-anchor" href="#说明"><span>说明</span></a></h2><p><strong>pidstat</strong>是sysstat工具的一个命令，用于监控全部或指定进程的cpu、内存、线程、设备IO等系统资源的占用情况。 pidstat首次运行时显示自系统启动开始的各项统计信息，之后运行pidstat将显示自上次运行该命令以后的统计信息。用户可以通过指定统计的次数和时间来获得所需的统计信息。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pidstat <span class="token punctuation">[</span> 选项 <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>时间间隔<span class="token operator">&gt;</span> <span class="token punctuation">]</span> <span class="token punctuation">[</span> <span class="token operator">&lt;</span>次数<span class="token operator">&gt;</span> <span class="token punctuation">]</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><h4 id="选项" tabindex="-1"><a class="header-anchor" href="#选项"><span>选项</span></a></h4><ul><li>u：默认的参数，显示各个进程的cpu使用统计</li><li>r：显示各个进程的内存使用统计</li><li>d：显示各个进程的IO使用情况</li><li>w：显示每个进程的上下文切换情况</li><li>t：显示到线程的统计信息</li><li>p：指定进程号</li><li>T { TASK | CHILD | ALL } 这个选项指定了pidstat监控的。TASK表示报告独立的task，CHILD关键字表示报告进程下所有线程统计信息。ALL表示报告独立的task和task下面的所有线程。 注意：task和子线程的全局的统计信息和pidstat选项无关。这些统计信息不会对应到当前的统计间隔，这些统计信息只有在子线程kill或者完成的时候才会被收集。</li><li>V：版本号</li><li>h：在一行上显示了所有活动，这样其他程序可以容易解析。</li><li>I：在SMP环境，表示任务的CPU使用率/内核数量</li><li>l：显示命令名和所有参数</li></ul><h3 id="实例" tabindex="-1"><a class="header-anchor" href="#实例"><span>实例</span></a></h3><h4 id="查看所有进程的cpu使用情况" tabindex="-1"><a class="header-anchor" href="#查看所有进程的cpu使用情况"><span>查看所有进程的CPU使用情况</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># pidstat -u -p ALL</span>
<span class="token number">11</span>:04:06 AM   <span class="token environment constant">UID</span>       PID    %usr %system  %guest    %CPU   CPU  Command
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>         <span class="token number">1</span>    <span class="token number">0.03</span>    <span class="token number">0.05</span>    <span class="token number">0.00</span>    <span class="token number">0.08</span>    <span class="token number">20</span>  systemd
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>         <span class="token number">2</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">28</span>  kthreadd
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>         <span class="token number">3</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>     <span class="token number">0</span>  rcu_gp
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>         <span class="token number">4</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>     <span class="token number">0</span>  rcu_par_gp
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>         <span class="token number">6</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>     <span class="token number">0</span>  kworker/0:0H-kblockd
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>         <span class="token number">9</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">38</span>  mm_percpu_wq
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>        <span class="token number">10</span>    <span class="token number">0.00</span>    <span class="token number">0.01</span>    <span class="token number">0.00</span>    <span class="token number">0.01</span>     <span class="token number">0</span>  ksoftirqd/0
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>        <span class="token number">11</span>    <span class="token number">0.00</span>    <span class="token number">0.23</span>    <span class="token number">0.00</span>    <span class="token number">0.23</span>    <span class="token number">15</span>  rcu_sched
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>        <span class="token number">12</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>     <span class="token number">0</span>  migration/0
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>        <span class="token number">14</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>     <span class="token number">0</span>  cpuhp/0
<span class="token number">11</span>:04:06 AM     <span class="token number">0</span>        <span class="token number">15</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>    <span class="token number">0.00</span>     <span class="token number">1</span>  cpuhp/1
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段说明</p><ul><li>PID：进程ID</li><li>%usr：进程在用户空间占用cpu的百分比</li><li>%system：进程在内核空间占用cpu的百分比</li><li>%guest：进程在虚拟机占用cpu的百分比</li><li>%CPU：进程占用cpu的百分比</li><li>CPU：处理进程的cpu编号</li><li>Command：当前进程对应的命令</li></ul><h4 id="查看所有进程的内存使用情况" tabindex="-1"><a class="header-anchor" href="#查看所有进程的内存使用情况"><span>查看所有进程的内存使用情况</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># pidstat -r</span>
<span class="token number">11</span>:10:35 AM   <span class="token environment constant">UID</span>       PID  minflt/s  majflt/s     VSZ    RSS   %MEM  Command
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>         <span class="token number">1</span>      <span class="token number">7.24</span>      <span class="token number">0.05</span>  <span class="token number">191312</span>   <span class="token number">4208</span>   <span class="token number">0.01</span>  systemd
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">1407</span>      <span class="token number">2.02</span>      <span class="token number">0.09</span>   <span class="token number">39316</span>   <span class="token number">9016</span>   <span class="token number">0.03</span>  systemd-journal
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">1442</span>      <span class="token number">0.03</span>      <span class="token number">0.00</span>  <span class="token number">190380</span>   <span class="token number">1080</span>   <span class="token number">0.00</span>  lvmetad
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">1457</span>      <span class="token number">0.46</span>      <span class="token number">0.00</span>   <span class="token number">46252</span>   <span class="token number">1560</span>   <span class="token number">0.00</span>  systemd-udevd
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">2429</span>      <span class="token number">0.11</span>      <span class="token number">0.00</span>  <span class="token number">163620</span>   <span class="token number">9472</span>   <span class="token number">0.03</span>  sshd
<span class="token number">11</span>:10:35 AM   <span class="token number">992</span>      <span class="token number">2446</span>      <span class="token number">0.02</span>      <span class="token number">0.00</span>    <span class="token number">8588</span>    <span class="token number">996</span>   <span class="token number">0.00</span>  lsmd
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">2447</span>      <span class="token number">0.05</span>      <span class="token number">0.00</span>   <span class="token number">90572</span>   <span class="token number">1468</span>   <span class="token number">0.00</span>  rngd
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">2448</span>      <span class="token number">0.15</span>      <span class="token number">0.02</span>  <span class="token number">451272</span>   <span class="token number">3520</span>   <span class="token number">0.01</span>  udisksd
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">2449</span>      <span class="token number">0.18</span>      <span class="token number">0.02</span>  <span class="token number">396488</span>   <span class="token number">1948</span>   <span class="token number">0.01</span>  accounts-daemon
<span class="token number">11</span>:10:35 AM     <span class="token number">0</span>      <span class="token number">2454</span>      <span class="token number">0.02</span>      <span class="token number">0.02</span>  <span class="token number">201336</span>   <span class="token number">1464</span>   <span class="token number">0.00</span>  gssproxy
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段说明</p><ul><li>PID：进程标识符</li><li>Minflt/s:任务每秒发生的次要错误，不需要从磁盘中加载内存页</li><li>Majflt/s:任务每秒发生的主要错误，需要从磁盘中加载内存页</li><li>VSZ：虚拟地址大小，虚拟内存的使用KB</li><li>RSS：常驻集合大小，非交换区物理内存使用KB</li><li>Command：task命令名</li></ul><h4 id="查看所有进程的io使用情况" tabindex="-1"><a class="header-anchor" href="#查看所有进程的io使用情况"><span>查看所有进程的IO使用情况</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># pidstat -d</span>
<span class="token number">11</span>:12:30 AM   <span class="token environment constant">UID</span>       PID   kB_rd/s   kB_wr/s kB_ccwr/s  Command
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>         <span class="token number">1</span>    <span class="token number">250.05</span>     <span class="token number">11.57</span>      <span class="token number">2.13</span>  systemd
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>       <span class="token number">224</span>      <span class="token number">1.21</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  khugepaged
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>       <span class="token number">290</span>      <span class="token number">0.03</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  kswapd0
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>       <span class="token number">291</span>      <span class="token number">0.02</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  kswapd1
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>      <span class="token number">1312</span>      <span class="token number">1.03</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  xfsaild/dm-0
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>      <span class="token number">1407</span>      <span class="token number">1.31</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  systemd-journal
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>      <span class="token number">1442</span>      <span class="token number">0.01</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  lvmetad
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>      <span class="token number">1457</span>      <span class="token number">1.77</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  systemd-udevd
<span class="token number">11</span>:12:30 AM   <span class="token number">992</span>      <span class="token number">2446</span>      <span class="token number">0.79</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  lsmd
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>      <span class="token number">2447</span>      <span class="token number">0.07</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  rngd
<span class="token number">11</span>:12:30 AM     <span class="token number">0</span>      <span class="token number">2448</span>      <span class="token number">0.46</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  udisksd
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段说明</p><ul><li>PID：进程id</li><li>kB_rd/s：每秒从磁盘读取的KB</li><li>kB_wr/s：每秒写入磁盘KB</li><li>kB_ccwr/s：任务取消的写入磁盘的KB。当任务截断脏的pagecache的时候会发生。</li><li>COMMAND:task的命令名</li></ul><h4 id="查看进程的上下文切换情况" tabindex="-1"><a class="header-anchor" href="#查看进程的上下文切换情况"><span>查看进程的上下文切换情况</span></a></h4><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># pidstat -w</span>
<span class="token number">11</span>:15:52 AM   <span class="token environment constant">UID</span>       PID   cswch/s nvcswch/s  Command
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>         <span class="token number">1</span>      <span class="token number">3.15</span>      <span class="token number">0.03</span>  systemd
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>         <span class="token number">2</span>      <span class="token number">0.13</span>      <span class="token number">0.00</span>  kthreadd
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>         <span class="token number">3</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  rcu_gp
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>         <span class="token number">4</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  rcu_par_gp
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>         <span class="token number">6</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  kworker/0:0H-kblockd
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>         <span class="token number">9</span>      <span class="token number">0.00</span>      <span class="token number">0.00</span>  mm_percpu_wq
<span class="token number">11</span>:15:52 AM     <span class="token number">0</span>        <span class="token number">10</span>      <span class="token number">1.99</span>      <span class="token number">0.00</span>  ksoftirqd/0
<span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>表头字段含义</p><ul><li>PID:进程id</li><li>Cswch/s:每秒主动任务上下文切换数量</li><li>Nvcswch/s:每秒被动任务上下文切换数量</li><li>Command:命令名</li></ul>`,25),t=[l];function c(r,o){return n(),a("div",null,t)}const i=s(p,[["render",c],["__file","pidstat.html.vue"]]),b=JSON.parse('{"path":"/command/linux/pidstat.html","title":"pidstat","lang":"zh-CN","frontmatter":{"description":"pidstat 监控进程的系统资源占用情况 说明 pidstat是sysstat工具的一个命令，用于监控全部或指定进程的cpu、内存、线程、设备IO等系统资源的占用情况。 pidstat首次运行时显示自系统启动开始的各项统计信息，之后运行pidstat将显示自上次运行该命令以后的统计信息。用户可以通过指定统计的次数和时间来获得所需的统计信息。 语法 选...","head":[["meta",{"property":"og:url","content":"https://baymaxcoding.github.io/command/linux/pidstat.html"}],["meta",{"property":"og:site_name","content":"BaymaxCoding"}],["meta",{"property":"og:title","content":"pidstat"}],["meta",{"property":"og:description","content":"pidstat 监控进程的系统资源占用情况 说明 pidstat是sysstat工具的一个命令，用于监控全部或指定进程的cpu、内存、线程、设备IO等系统资源的占用情况。 pidstat首次运行时显示自系统启动开始的各项统计信息，之后运行pidstat将显示自上次运行该命令以后的统计信息。用户可以通过指定统计的次数和时间来获得所需的统计信息。 语法 选..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T04:24:50.000Z"}],["meta",{"property":"article:author","content":"BaymaxCoding"}],["meta",{"property":"article:modified_time","content":"2024-04-12T04:24:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"pidstat\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-12T04:24:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BaymaxCoding\\",\\"url\\":\\"https://baymaxcoding.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"说明","slug":"说明","link":"#说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"git":{"createdTime":1712895890000,"updatedTime":1712895890000,"contributors":[{"name":"BaymaxCoding","email":"BRemail2324996822@163.com","commits":1}]},"readingTime":{"minutes":4.1,"words":1230},"filePathRelative":"command/linux/pidstat.md","localizedDate":"2024年4月12日","autoDesc":true}');export{i as comp,b as data};
