import{_ as a}from"./plugin-vue_export-helper-DlAUqK2U.js";import{o as e,c as s,b as n}from"./app-CHACLx4z.js";const t={},i=n(`<h1 id="xz" tabindex="-1"><a class="header-anchor" href="#xz"><span>xz</span></a></h1><p>POSIX 平台开发具有高压缩率的工具</p><h2 id="补充说明" tabindex="-1"><a class="header-anchor" href="#补充说明"><span>补充说明</span></a></h2><p><strong>xz命令</strong> XZ Utils 是为 POSIX 平台开发具有高压缩率的工具。它使用 LZMA2 压缩算法，生成的压缩文件比 POSIX 平台传统使用的 gzip、bzip2 生成的压缩文件更小，而且解压缩速度也很快。最初 XZ Utils 的是基于 LZMA-SDK 开发，但是 LZMA-SDK 包含了一些 WINDOWS 平台的特性，所以 XZ Utils 为以适应 POSIX 平台作了大幅的修改。XZ Utils 的出现也是为了取代 POSIX 系统中旧的 LZMA Utils。</p><h3 id="语法" tabindex="-1"><a class="header-anchor" href="#语法"><span>语法</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>xz<span class="token punctuation">(</span>选项<span class="token punctuation">)</span><span class="token punctuation">(</span>参数<span class="token punctuation">)</span>
xz <span class="token punctuation">[</span>OPTION<span class="token punctuation">]</span><span class="token punctuation">..</span>. <span class="token punctuation">[</span>FILE<span class="token punctuation">]</span><span class="token punctuation">..</span>.
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="选项" tabindex="-1"><a class="header-anchor" href="#选项"><span>选项</span></a></h3><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>-z, <span class="token parameter variable">--compress</span>    <span class="token comment"># 强制压缩</span>
-d, --decompress, <span class="token parameter variable">--uncompress</span>
                  <span class="token comment"># force decompression</span>
-t, <span class="token parameter variable">--test</span>        <span class="token comment"># 测试压缩文件的完整性</span>
-l, <span class="token parameter variable">--list</span>        <span class="token comment"># 列出有关.xz文件的信息</span>
-k, <span class="token parameter variable">--keep</span>        <span class="token comment"># 保留（不要删除）输入文件</span>
-f, <span class="token parameter variable">--force</span>       <span class="token comment"># 强制覆盖输出文件和（解）压缩链接</span>
-c, --stdout, --to-stdout
                  <span class="token comment"># 写入标准输出，不要删除输入文件</span>
<span class="token parameter variable">-0</span> <span class="token punctuation">..</span>. <span class="token parameter variable">-9</span>         <span class="token comment"># 压缩预设; 默认为6; 取压缩机*和*</span>
                  <span class="token comment"># 使用7-9之前解压缩内存使用量考虑在内！</span>
-e, <span class="token parameter variable">--extreme</span>     <span class="token comment"># 尝试通过使用更多的CPU时间来提高压缩比;</span>
                  <span class="token comment"># 要求不影响解压缩存储器</span>
-T, <span class="token parameter variable">--threads</span><span class="token operator">=</span>NUM <span class="token comment"># 最多使用NUM个线程; 默认值为1;  set to 0</span>
                  <span class="token comment"># 设置为0，使用与处理器内核一样多的线程</span>
-q, <span class="token parameter variable">--quiet</span>       <span class="token comment"># 抑制警告; 指定两次以抑制错误</span>
-v, <span class="token parameter variable">--verbose</span>     <span class="token comment"># 冗长; 指定两次更详细</span>
-h, <span class="token parameter variable">--help</span>        <span class="token comment"># 显示这个简洁的帮助并退出</span>
-H, --long-help   <span class="token comment"># 显示更多帮助（还列出了高级选项）</span>
-V, <span class="token parameter variable">--version</span>     <span class="token comment"># 显示版本号并退出</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><h3 id="参数" tabindex="-1"><a class="header-anchor" href="#参数"><span>参数</span></a></h3><ul><li>源文件：指定连接的源文件。</li><li>目标文件：指定源文件的目标连接文件。</li></ul><h3 id="实例" tabindex="-1"><a class="header-anchor" href="#实例"><span>实例</span></a></h3><p>压缩一个文件 test.txt，压缩成功后生成 test.txt.xz, 原文件会被删除。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ xz test.txt
$ <span class="token function">ls</span> test.txt*

test.txt.xz
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>解压 test.txt.xz 文件，并使用参数 -k 保持原文件不被删除</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ xz <span class="token parameter variable">-d</span> <span class="token parameter variable">-k</span> test.txt.xz
$ <span class="token function">ls</span> test.txt*

test.txt.xz test.txt
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用参数 -l 显示 .xz 文件的基本信息。基本信息包括压缩率、数据完整性验证方式等。也可以和参数 -v 或 -vv 配合显示更详尽的信息。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>xz <span class="token parameter variable">-l</span> index.txt.xz
<span class="token comment"># Strms  Blocks   Compressed Uncompressed  Ratio  Check   Filename</span>
<span class="token comment">#    1       1        768 B      1,240 B  0.619  CRC64   index.txt.</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>使用参数 -0, -1, -2, … -6, … -9 或参数 --fast, --best 设定压缩率。xz 命令的默认为 -6 ，对于大多数系统来说，甚至是一些较旧的系统，-4 … -6 压缩率预设值都不错的表现。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ xz <span class="token parameter variable">-k7</span> xz_pipe_decomp_mini.c
$ xz <span class="token parameter variable">-k</span> <span class="token parameter variable">--fast</span> xz_pipe_decomp_mini.c
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div><p>使用参数 -H 显示 xz 命令所有 options. 参数 -H 比使用参数 --help 显示的内容更详细。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>$ xz <span class="token parameter variable">-H</span>  <span class="token operator">|</span> <span class="token function">more</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div></div></div><p>借助 xargs 命令并行压缩多文件。下面的命令行可以将 /var/log 目录下所有的扩展名为 .log 的文件压缩。通过 xargs 命令同时运行多个 xz 进行压缩。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token comment"># 运行此命令须有 root 权限。</span>
<span class="token function">find</span> /var/log <span class="token parameter variable">-type</span> f <span class="token parameter variable">-iname</span> <span class="token string">&quot;*.log&quot;</span> <span class="token parameter variable">-print0</span> <span class="token operator">|</span> <span class="token function">xargs</span> <span class="token parameter variable">-P4</span> <span class="token parameter variable">-n16</span> xz <span class="token parameter variable">-T1</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div></div></div>`,23),l=[i];function p(r,c){return e(),s("div",null,l)}const m=a(t,[["render",p],["__file","xz.html.vue"]]),v=JSON.parse('{"path":"/command/linux/xz.html","title":"xz","lang":"zh-CN","frontmatter":{"description":"xz POSIX 平台开发具有高压缩率的工具 补充说明 xz命令 XZ Utils 是为 POSIX 平台开发具有高压缩率的工具。它使用 LZMA2 压缩算法，生成的压缩文件比 POSIX 平台传统使用的 gzip、bzip2 生成的压缩文件更小，而且解压缩速度也很快。最初 XZ Utils 的是基于 LZMA-SDK 开发，但是 LZMA-SDK 包...","head":[["meta",{"property":"og:url","content":"https://baymaxcoding.github.io/command/linux/xz.html"}],["meta",{"property":"og:site_name","content":"BaymaxCoding"}],["meta",{"property":"og:title","content":"xz"}],["meta",{"property":"og:description","content":"xz POSIX 平台开发具有高压缩率的工具 补充说明 xz命令 XZ Utils 是为 POSIX 平台开发具有高压缩率的工具。它使用 LZMA2 压缩算法，生成的压缩文件比 POSIX 平台传统使用的 gzip、bzip2 生成的压缩文件更小，而且解压缩速度也很快。最初 XZ Utils 的是基于 LZMA-SDK 开发，但是 LZMA-SDK 包..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T04:24:50.000Z"}],["meta",{"property":"article:author","content":"BaymaxCoding"}],["meta",{"property":"article:modified_time","content":"2024-04-12T04:24:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"xz\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-12T04:24:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BaymaxCoding\\",\\"url\\":\\"https://baymaxcoding.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"语法","slug":"语法","link":"#语法","children":[]},{"level":3,"title":"选项","slug":"选项","link":"#选项","children":[]},{"level":3,"title":"参数","slug":"参数","link":"#参数","children":[]},{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"git":{"createdTime":1712895890000,"updatedTime":1712895890000,"contributors":[{"name":"BaymaxCoding","email":"BRemail2324996822@163.com","commits":1}]},"readingTime":{"minutes":2.52,"words":756},"filePathRelative":"command/linux/xz.md","localizedDate":"2024年4月12日","autoDesc":true}');export{m as comp,v as data};
