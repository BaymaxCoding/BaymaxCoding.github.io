import{_ as p}from"./plugin-vue_export-helper-DlAUqK2U.js";import{r as c,o as l,c as o,a as n,d as s,e,w as t,b as i}from"./app-D3p8wuGf.js";const r={},m=n("h1",{id:"pstack",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#pstack"},[n("span",null,"pstack")])],-1),u=n("p",null,"显示每个进程的栈跟踪",-1),d=n("h2",{id:"补充说明",tabindex:"-1"},[n("a",{class:"header-anchor",href:"#补充说明"},[n("span",null,"补充说明")])],-1),b=n("strong",null,"pstack命令",-1),k=n("kbd",null,"pstack",-1),v=n("kbd",null,"pstack",-1),h=i(`<p>命令软件包下载地址：https://packages.debian.org/sid/pstack</p><h3 id="实例" tabindex="-1"><a class="header-anchor" href="#实例"><span>实例</span></a></h3><p>pstree以树结构显示进程</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pstree <span class="token parameter variable">-p</span> work <span class="token operator">|</span> <span class="token function">grep</span> ad
sshd<span class="token punctuation">(</span><span class="token number">22669</span><span class="token punctuation">)</span>---bash<span class="token punctuation">(</span><span class="token number">22670</span><span class="token punctuation">)</span>---ad_preprocess<span class="token punctuation">(</span><span class="token number">4551</span><span class="token punctuation">)</span>-+-<span class="token punctuation">{</span>ad_preprocess<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">4552</span><span class="token punctuation">)</span>
                                                <span class="token operator">|</span>-<span class="token punctuation">{</span>ad_preprocess<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">4553</span><span class="token punctuation">)</span>
                                                <span class="token operator">|</span>-<span class="token punctuation">{</span>ad_preprocess<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">4554</span><span class="token punctuation">)</span>
                                                <span class="token operator">|</span>-<span class="token punctuation">{</span>ad_preprocess<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">4555</span><span class="token punctuation">)</span>
                                                <span class="token operator">|</span>-<span class="token punctuation">{</span>ad_preprocess<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">4556</span><span class="token punctuation">)</span>
                                                \`-<span class="token punctuation">{</span>ad_preprocess<span class="token punctuation">}</span><span class="token punctuation">(</span><span class="token number">4557</span><span class="token punctuation">)</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>work为工作用户，-p为显示进程识别码，ad_preprocess共启动了6个子线程，加上主线程共7个线程。</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code><span class="token function">ps</span> <span class="token parameter variable">-Lf</span> <span class="token number">4551</span>
<span class="token environment constant">UID</span>        PID  <span class="token environment constant">PPID</span>   LWP  C NLWP STIME TTY      <span class="token function">stat</span>   <span class="token function">time</span> CMD
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4551</span>  <span class="token number">2</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:02 ./ad_preprocess
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4552</span>  <span class="token number">0</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:00 ./ad_preprocess
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4553</span>  <span class="token number">0</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:00 ./ad_preprocess
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4554</span>  <span class="token number">0</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:00 ./ad_preprocess
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4555</span>  <span class="token number">0</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:00 ./ad_preprocess
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4556</span>  <span class="token number">0</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:00 ./ad_preprocess
work      <span class="token number">4551</span> <span class="token number">22670</span>  <span class="token number">4557</span>  <span class="token number">0</span>    <span class="token number">7</span> <span class="token number">16</span>:30 pts/2    Sl+    <span class="token number">0</span>:00 ./ad_preprocess
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div><p>进程共启动了7个线程</p><p>pstack显示每个进程的栈跟踪：</p><div class="language-bash line-numbers-mode" data-ext="sh" data-title="sh"><pre class="language-bash"><code>pstack <span class="token number">4551</span>
Thread <span class="token number">7</span> <span class="token punctuation">(</span>Thread <span class="token number">1084229984</span> <span class="token punctuation">(</span>LWP <span class="token number">4552</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302afc63dc in epoll_wait () from /lib64/tls/libc.so.6</span>
<span class="token comment">#1  0x00000000006f0730 in ub::EPollEx::poll ()</span>
<span class="token comment">#2  0x00000000006f172a in ub::NetReactor::callback ()</span>
<span class="token comment">#3  0x00000000006fbbbb in ub::UBTask::CALLBACK ()</span>
<span class="token comment">#4  0x000000302b80610a in start_thread () from /lib64/tls/libpthread.so.0</span>
<span class="token comment">#5  0x000000302afc6003 in clone () from /lib64/tls/libc.so.6</span>
<span class="token comment">#6  0x0000000000000000 in ?? ()</span>
Thread <span class="token number">6</span> <span class="token punctuation">(</span>Thread <span class="token number">1094719840</span> <span class="token punctuation">(</span>LWP <span class="token number">4553</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302afc63dc in epoll_wait () from /lib64/tls/libc.so.6</span>
<span class="token comment">#1  0x00000000006f0730 in ub::EPollEx::poll ()</span>
<span class="token comment">#2  0x00000000006f172a in ub::NetReactor::callback ()</span>
<span class="token comment">#3  0x00000000006fbbbb in ub::UBTask::CALLBACK ()</span>
<span class="token comment">#4  0x000000302b80610a in start_thread () from /lib64/tls/libpthread.so.0</span>
<span class="token comment">#5  0x000000302afc6003 in clone () from /lib64/tls/libc.so.6</span>
<span class="token comment">#6  0x0000000000000000 in ?? ()</span>
Thread <span class="token number">5</span> <span class="token punctuation">(</span>Thread <span class="token number">1105209696</span> <span class="token punctuation">(</span>LWP <span class="token number">4554</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302b80baa5 in __nanosleep_nocancel ()</span>
<span class="token comment">#1  0x000000000079e758 in comcm::ms_sleep ()</span>
<span class="token comment">#2  0x00000000006c8581 in ub::UbClientManager::healthyCheck ()</span>
<span class="token comment">#3  0x00000000006c8471 in ub::UbClientManager::start_healthy_check ()</span>
<span class="token comment">#4  0x000000302b80610a in start_thread () from /lib64/tls/libpthread.so.0</span>
<span class="token comment">#5  0x000000302afc6003 in clone () from /lib64/tls/libc.so.6</span>
<span class="token comment">#6  0x0000000000000000 in ?? ()</span>
Thread <span class="token number">4</span> <span class="token punctuation">(</span>Thread <span class="token number">1115699552</span> <span class="token punctuation">(</span>LWP <span class="token number">4555</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302b80baa5 in __nanosleep_nocancel ()</span>
<span class="token comment">#1  0x0000000000482b0e in armor::armor_check_thread ()</span>
<span class="token comment">#2  0x000000302b80610a in start_thread () from /lib64/tls/libpthread.so.0</span>
<span class="token comment">#3  0x000000302afc6003 in clone () from /lib64/tls/libc.so.6</span>
<span class="token comment">#4  0x0000000000000000 in ?? ()</span>
Thread <span class="token number">3</span> <span class="token punctuation">(</span>Thread <span class="token number">1126189408</span> <span class="token punctuation">(</span>LWP <span class="token number">4556</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302af8f1a5 in __nanosleep_nocancel () from /lib64/tls/libc.so.6</span>
<span class="token comment">#1  0x000000302af8f010 in sleep () from /lib64/tls/libc.so.6</span>
<span class="token comment">#2  0x000000000044c972 in Business_config_manager::run ()</span>
<span class="token comment">#3  0x0000000000457b83 in Thread::run_thread ()</span>
<span class="token comment">#4  0x000000302b80610a in start_thread () from /lib64/tls/libpthread.so.0</span>
<span class="token comment">#5  0x000000302afc6003 in clone () from /lib64/tls/libc.so.6</span>
<span class="token comment">#6  0x0000000000000000 in ?? ()</span>
Thread <span class="token number">2</span> <span class="token punctuation">(</span>Thread <span class="token number">1136679264</span> <span class="token punctuation">(</span>LWP <span class="token number">4557</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302af8f1a5 in __nanosleep_nocancel () from /lib64/tls/libc.so.6</span>
<span class="token comment">#1  0x000000302af8f010 in sleep () from /lib64/tls/libc.so.6</span>
<span class="token comment">#2  0x00000000004524bb in Process_thread::sleep_period ()</span>
<span class="token comment">#3  0x0000000000452641 in Process_thread::run ()</span>
<span class="token comment">#4  0x0000000000457b83 in Thread::run_thread ()</span>
<span class="token comment">#5  0x000000302b80610a in start_thread () from /lib64/tls/libpthread.so.0</span>
<span class="token comment">#6  0x000000302afc6003 in clone () from /lib64/tls/libc.so.6</span>
<span class="token comment">#7  0x0000000000000000 in ?? ()</span>
Thread <span class="token number">1</span> <span class="token punctuation">(</span>Thread <span class="token number">182894129792</span> <span class="token punctuation">(</span>LWP <span class="token number">4551</span><span class="token punctuation">))</span>:
<span class="token comment">#0  0x000000302af8f1a5 in __nanosleep_nocancel () from /lib64/tls/libc.so.6</span>
<span class="token comment">#1  0x000000302af8f010 in sleep () from /lib64/tls/libc.so.6</span>
<span class="token comment">#2  0x0000000000420d79 in Ad_preprocess::run ()</span>
<span class="token comment">#3  0x0000000000450ad0 in main ()</span>
</code></pre><div class="line-numbers" aria-hidden="true"><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div><div class="line-number"></div></div></div>`,9);function _(f,x){const a=c("tt");return l(),o("div",null,[m,u,d,n("p",null,[b,s(" 可显示每个进程的栈跟踪。"),k,s(" 命令必须由相应进程的属主或 "),e(a,null,{default:t(()=>[s("root")]),_:1}),s(" 运行。可以使用 "),v,s(" 来确定进程挂起的位置。此命令允许使用的唯一选项是要检查的进程的 "),e(a,null,{default:t(()=>[s("PID")]),_:1}),s("。")]),h])}const y=p(r,[["render",_],["__file","pstack.html.vue"]]),P=JSON.parse('{"path":"/command/linux/pstack.html","title":"pstack","lang":"zh-CN","frontmatter":{"description":"pstack 显示每个进程的栈跟踪 补充说明 pstack命令 可显示每个进程的栈跟踪。pstack 命令必须由相应进程的属主或 运行。可以使用 pstack 来确定进程挂起的位置。此命令允许使用的唯一选项是要检查的进程的 。 命令软件包下载地址：https://packages.debian.org/sid/pstack 实例 pstree以树结构显...","head":[["meta",{"property":"og:url","content":"https://baymaxcoding.github.io/command/linux/pstack.html"}],["meta",{"property":"og:site_name","content":"BaymaxCoding"}],["meta",{"property":"og:title","content":"pstack"}],["meta",{"property":"og:description","content":"pstack 显示每个进程的栈跟踪 补充说明 pstack命令 可显示每个进程的栈跟踪。pstack 命令必须由相应进程的属主或 运行。可以使用 pstack 来确定进程挂起的位置。此命令允许使用的唯一选项是要检查的进程的 。 命令软件包下载地址：https://packages.debian.org/sid/pstack 实例 pstree以树结构显..."}],["meta",{"property":"og:type","content":"article"}],["meta",{"property":"og:locale","content":"zh-CN"}],["meta",{"property":"og:updated_time","content":"2024-04-12T04:24:50.000Z"}],["meta",{"property":"article:author","content":"BaymaxCoding"}],["meta",{"property":"article:modified_time","content":"2024-04-12T04:24:50.000Z"}],["script",{"type":"application/ld+json"},"{\\"@context\\":\\"https://schema.org\\",\\"@type\\":\\"Article\\",\\"headline\\":\\"pstack\\",\\"image\\":[\\"\\"],\\"dateModified\\":\\"2024-04-12T04:24:50.000Z\\",\\"author\\":[{\\"@type\\":\\"Person\\",\\"name\\":\\"BaymaxCoding\\",\\"url\\":\\"https://baymaxcoding.github.io/\\"}]}"]]},"headers":[{"level":2,"title":"补充说明","slug":"补充说明","link":"#补充说明","children":[{"level":3,"title":"实例","slug":"实例","link":"#实例","children":[]}]}],"git":{"createdTime":1712895890000,"updatedTime":1712895890000,"contributors":[{"name":"BaymaxCoding","email":"BRemail2324996822@163.com","commits":1}]},"readingTime":{"minutes":1.94,"words":581},"filePathRelative":"command/linux/pstack.md","localizedDate":"2024年4月12日","autoDesc":true}');export{y as comp,P as data};
